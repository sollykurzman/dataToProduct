#map_container {
  position: fixed !important;
  top: calc(var(--menubarheight) + 20px);
  right: 20px;
  width: calc(100vw - var(--sidebarwidth) - 40px - var(--sidebarpadding)) !important;
  height: calc(100vh - var(--menubarheight) - 40px) !important;
  z-index: 1;
  border-radius: 10px;
  transition: 1s ease;
  overflow: hidden;
  
  /* Add border and adjust for the cutout effect */
  border: 3px solid #5B97EC;
  border-left: none; /* Remove left border where sidebar sits */
}

/* Add a pseudo-element to create the curved border on the left side */
#map_container::before {
  content: '';
  position: absolute;
  left: calc(-1 * (var(--sidebarwidth) + var(--sidebarpadding)));
  top: -3px;
  width: calc(var(--sidebarwidth) + var(--sidebarpadding));
  height: calc(100% + 6px);
  border: 3px solid #5B97EC;
  border-right: none;
  border-radius: 10px 0 0 10px;
  pointer-events: none;
  z-index: -1;
}

#map_container.closed {
  width: calc(100vw - 40px) !important;
  transition: 1s ease;
  border-left: 3px solid #5B97EC; /* Restore left border when closed */
}

#map_container.closed::before {
  display: none; /* Hide the pseudo-element when closed */
}

#sidebar {
  position: fixed;
  top: calc(var(--menubarheight) + 20px);
  left: var(--sidebarpadding);
  width: var(--sidebarwidth);
  height: calc(100vh - var(--menubarheight) - 40px);
  background-color: white;
  border-radius: 10px;
  z-index: 1001; /* Higher than map_container */
  overflow-y: auto;
  transition: 1s ease;
  
  /* Optional: Add shadow to make it stand out more */
  box-shadow: 0 2px 10px rgba(0,0,0,0.1);
}

#sidebar.closed {
  position: fixed;
  top: calc(var(--menubarheight) + 20px);
  left: var(--sidebarpadding);
  width: 40px;
  height: 40px;
  background-color: white;
  border-radius: 10px;
  z-index: 1001;
  overflow-y: none;
}